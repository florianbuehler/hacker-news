(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{23:function(e,t,r){e.exports={firstDot:"styles_firstDot__12aMf",dotFlashing:"styles_dotFlashing__fkf0r",secondDot:"styles_secondDot__3EHYB",thirdDot:"styles_thirdDot__2_XVL"}},78:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(19),o=r.n(c),i=r(5),a=r(11),l=r(3),u=r(16),h={home:"/",stories:Object(u.include)("/stories",{best:"best",new:"new",top:"top",details:Object(u.include)(":storyId",{show:""})})},d=r(13),j=r.n(d),b=r(0),f=function(){return Object(b.jsx)("header",{className:"px-12 py-12 bg-grey-800 flex",children:Object(b.jsx)(a.b,{to:h.home,children:Object(b.jsx)("h1",{className:"text-5xl text-grey-50",children:"Hacker News"})})})},x=function(e){var t=e.to,r=e.children;return Object(b.jsx)(a.c,{to:t,className:"mx-3 px-2 py-1 block font-bold duration-200 hover:text-teal-500 dark:text-grey-100 dark:hover:text-teal-400",activeClassName:"text-teal-500 dark:text-teal-400",children:r})},O="SET_THEME",y="SET_HIDE_FOOTER",p={setTheme:function(e){return{type:O,theme:e}},setHideFooter:function(e){return{type:y,hideFooter:e}}},m=Object(i.b)((function(e){return{theme:e.app.theme}}),(function(e){return{setTheme:function(t){return e(p.setTheme(t))}}}))((function(e){var t=e.theme,r=e.setTheme,n=j()("bg-white w-4 h-4 rounded-full shadow-md","dark"===t?"ml-auto":"mr-auto");return Object(b.jsx)("div",{className:"w-10 h-6 flex items-center bg-gray-300 rounded-full p-1 dark:bg-teal-600",onClick:function(){return function(e){r("light"===e?"dark":"light")}(t)},children:Object(b.jsx)("div",{className:n})})})),g=function(){return Object(b.jsxs)("div",{className:"px-12 py-2 bg-grey-50 border-b-2 border-grey-200 flex justify-between items-center transition-colors dark:bg-grey-900 dark:border-grey-600",children:[Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:"flex flex-row",children:[Object(b.jsx)("li",{children:Object(b.jsx)(x,{to:h.stories.top,children:"Top"})}),Object(b.jsx)("li",{children:Object(b.jsx)(x,{to:h.stories.new,children:"New"})}),Object(b.jsx)("li",{children:Object(b.jsx)(x,{to:h.stories.best,children:"Best"})})]})}),Object(b.jsx)(m,{})]})},v=function(e){var t=e.title,r=e.children;return Object(b.jsxs)("div",{className:"flex flex-col px-4 font-semibold",children:[t&&Object(b.jsx)("span",{className:"mb-2 text-teal-300 dark:text-teal-500",children:t}),r]})},S=function(e){var t=e.to,r=e.children;return Object(b.jsx)("a",{href:t,className:"py-2 duration-150 hover:text-teal-300 dark:hover:text-teal-500",children:r})},w=function(){return Object(b.jsxs)("footer",{children:[Object(b.jsxs)("section",{className:"flex flex-row justify-between bg-grey-700 text-grey-50 px-32 py-20 dark:bg-grey-800",children:[Object(b.jsxs)("div",{className:"flex justify-between w-2/5",children:[Object(b.jsxs)(v,{title:"Platform",children:[Object(b.jsx)(S,{to:"",children:"Guidelines"}),Object(b.jsx)(S,{to:"",children:"FAQ"}),Object(b.jsx)(S,{to:"",children:"Lists"})]}),Object(b.jsxs)(v,{title:"Company",children:[Object(b.jsx)(S,{to:"",children:"Security"}),Object(b.jsx)(S,{to:"",children:"Legal"}),Object(b.jsx)(S,{to:"",children:"Contact"})]}),Object(b.jsx)(v,{title:"Developer",children:Object(b.jsx)(S,{to:"https://github.com/HackerNews/API",children:"API"})})]}),Object(b.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(b.jsx)("span",{children:"335 Pioneer Way"}),Object(b.jsx)("span",{children:"Mountain View, CA 94041"}),Object(b.jsx)("a",{href:"mailto:hn@ycombinator.com",className:"mt-6 duration-150 hover:text-teal-300",children:"hn@ycombinator.com"})]})]}),Object(b.jsx)("section",{className:"flex justify-center py-3 bg-grey-500 text-grey-100 dark:bg-grey-600",children:"\xa9 2021 Florian B\xfchler"})]})},I=Object(i.b)((function(e){return{theme:e.app.theme,hideFooter:e.app.hideFooter}}))((function(e){var t=e.theme,r=e.hideFooter,n=e.children;return Object(b.jsxs)("div",{className:j()(t,"flex flex-col min-h-screen"),children:[Object(b.jsx)(f,{}),Object(b.jsx)(g,{}),Object(b.jsx)("main",{className:"bg-grey-50 flex-1 transition-colors dark:bg-grey-900 dark:text-grey-300",children:Object(b.jsx)("div",{className:"flex flex-col items-center max-w-5xl mx-auto",children:n})}),!r&&Object(b.jsx)(w,{})]})})),N=r(4),_=r(22),F=Object(i.b)(null,(function(e){return{setHideFooter:function(t){return e(p.setHideFooter(t))}}}))((function(e){var t=e.setHideFooter,r=e.hideFooter,n=e.children,s=Object(_.a)(e,["setHideFooter","hideFooter","children"]);return t(null!==r&&void 0!==r&&r),Object(b.jsx)(l.b,Object(N.a)(Object(N.a)({},s),{},{children:n}))})),k=r(39),E=r(40),T=r(41),D=r.n(T),C=Object({NODE_ENV:"production",PUBLIC_URL:"/hacker-news",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).URL||"http://localhost:3000/",H={"Content-Type":"application/json",Accept:"application/json"},R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,s=arguments.length>3?arguments[3]:void 0;Object(k.a)(this,e),this.client=void 0;var c=D.a.create({baseURL:t,timeout:r,headers:n,auth:s});c.interceptors.response.use(this.handleSuccess,this.handleError),this.client=c}return Object(E.a)(e,[{key:"handleSuccess",value:function(e){return e}},{key:"handleError",value:function(e){return Promise.reject(e)}},{key:"get",value:function(e){return this.client.get(e).then((function(e){return e.data}))}},{key:"post",value:function(e,t){return this.client.post(e,t).then((function(e){return e.data}))}},{key:"put",value:function(e,t){return this.client.put(e,t).then((function(e){return e.data}))}},{key:"patch",value:function(e,t){return this.client.patch(e,t).then((function(e){return e.data}))}},{key:"delete",value:function(e){return this.client.delete(e).then((function(e){return e.data}))}}]),e}(),B=".json?print=pretty",L=new R("https://hacker-news.firebaseio.com/v0"),M=new R("https://hn.algolia.com/api/v1"),P={getBestStoryIds:function(){return L.get("/beststories".concat(B))},getTopStoryIds:function(){return L.get("/topstories".concat(B))},getNewStoryIds:function(){return L.get("newstories".concat(B))},getStoryById:function(e){return L.get("/item/".concat(e).concat(B))},getStoryDetailsById:function(e){return M.get("/items/".concat(e))},getStoriesByPage:function(e,t){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*e,end:(t+1)*e}}(20,t),n=function(e,t,r){return r.slice(e,t)}(r.begin,r.end,e).map((function(e){return P.getStoryById(e)}));return Promise.all(n)}},A=P,U="FETCH_STORY_IDS_REQUEST",J="FETCH_STORY_IDS_SUCCESS",Y="FETCH_STORY_IDS_FAILURE",W="FETCH_STORIES_REQUEST",K="FETCH_STORIES_SUCCESS",Q={fetchIdsOfNewStories:function(){return function(e){return e({type:U}),A.getNewStoryIds().then((function(t){e({type:J,storyIds:t}),e(Q.fetchStories({storyIds:t,page:0}))})).catch((function(){return e({type:Y})}))}},fetchIdsOfBestStories:function(){return function(e){return e({type:U}),A.getBestStoryIds().then((function(t){e({type:J,storyIds:t}),e(Q.fetchStories({storyIds:t,page:0}))})).catch((function(){return e({type:Y})}))}},fetchIdsOfTopStories:function(){return function(e){return e({type:U}),A.getTopStoryIds().then((function(t){e({type:J,storyIds:t}),e(Q.fetchStories({storyIds:t,page:0}))})).catch((function(){return e({type:Y})}))}},fetchStories:function(e){return function(t){t({type:W});var r=e.storyIds,n=e.page;return A.getStoriesByPage(r,n).then((function(e){return t({type:K,stories:e})})).catch((function(){return t({type:"FETCH_STORIES_FAILURE"})}))}},resetStories:function(){return{type:"RESET_STORIES"}}},V=Q,z=r(42),G=Object(z.a)((function(e){return e.story.storyIds}),(function(e){return e.story.stories}),(function(e,t){return e.length>t.length})),X=r(43);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var $=n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),ee=n.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"});function te(e,t){var r=e.title,s=e.titleId,c=Z(e,["title","titleId"]);return n.createElement("svg",q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px",ref:t,"aria-labelledby":s},c),r?n.createElement("title",{id:s},r):null,$,ee)}var re=n.forwardRef(te),ne=(r.p,function(e){var t=(new Date).getHours()-new Date(1e3*e).getHours();if(t>0)return"".concat(t,1===t?" hour":" hours");var r=(new Date).getMinutes()-new Date(1e3*e).getMinutes();return"".concat(r,1===r?" minute":" minutes")}),se=function(e){return e.includes("//")||(e="http://".concat(e)),new URL(e)},ce=function(e){var t,r=e.title,n=e.url,s=e.score,c=e.by,o=e.time,i=Object(_.a)(e,["title","url","score","by","time"]),l=function(e){if(!e)return"";var t=se(e);return t.hostname.includes("www.")?t.hostname.split("www.")[1]:t.hostname}(n),d=(t=n)?se(t).origin:"",j=ne(o);return Object(b.jsxs)("article",{className:"flex flex-row p-4 border rounded-xl shadow border-grey-300 bg-grey-50 dark:bg-grey-700 dark:border-grey-500",children:[Object(b.jsx)("div",{className:"flex items-center w-8 justify-center",children:s}),Object(b.jsxs)("div",{className:"pl-5",children:[Object(b.jsx)("h3",{className:"text-xl transition-colors duration-200 hover:text-teal-500 dark:hover:text-teal-400",children:Object(b.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:r})}),Object(b.jsxs)("p",{className:"text-sm",children:["(on"," ",Object(b.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:l}),")"]}),Object(b.jsxs)("p",{className:"pt-3 text-sm",children:["by ",c," ",j," ago"]})]}),Object(b.jsx)("div",{className:"ml-auto flex justify-center items-center",children:Object(b.jsx)(a.b,{to:Object(u.reverse)(h.stories.details.show,{storyId:i.id}),children:Object(b.jsx)(re,{className:"text-grey-600 transition-colors duration-200 fill-current object-cover h-6 w-auto hover:text-teal-500 dark:text-grey-100 dark:hover:text-teal-400"})})})]})},oe=r(23),ie=r.n(oe),ae=function(e){var t=e.className,r="bg-grey-200 w-3.5 h-3.5 rounded-full";return Object(b.jsxs)("div",{className:j()("flex flex-row w-28 justify-between",t),children:[Object(b.jsx)("span",{className:j()(r,ie.a.firstDot)}),Object(b.jsx)("span",{className:j()(r,ie.a.secondDot)}),Object(b.jsx)("span",{className:j()(r,ie.a.thirdDot)})]})},le=function(e){Object(n.useEffect)((function(){e.resetStories(),e.fetchStoryIds()}),[]);var t=e.stories,r=e.hasMoreStories;return Object(b.jsx)("div",{children:Object(b.jsx)(X.a,{next:function(){var t=e.storyIds,r=e.page,n=e.fetchStories;e.isFetching||n(t,r)},hasMore:r,loader:Object(b.jsx)(ae,{className:"mx-auto mt-4 mb-20"}),dataLength:t.length,children:Object(b.jsx)("ul",{className:"py-8",children:t.map((function(e){return e&&Object(b.jsx)("li",{className:"mb-4",children:Object(b.jsx)(ce,Object(N.a)({},e))},e.id.toString())}))})})})},ue=Object(i.b)((function(e){return{stories:e.story.stories,page:e.story.page,storyIds:e.story.storyIds,isFetching:e.story.isFetching,hasMoreStories:G(e)}}),(function(e){return{fetchStoryIds:function(){return e(V.fetchIdsOfTopStories())},fetchStories:function(t,r){return e(V.fetchStories({storyIds:t,page:r}))},resetStories:function(){return e(V.resetStories())}}}))(le),he=Object(i.b)((function(e){return{stories:e.story.stories,page:e.story.page,storyIds:e.story.storyIds,isFetching:e.story.isFetching,hasMoreStories:G(e)}}),(function(e){return{fetchStoryIds:function(){return e(V.fetchIdsOfBestStories())},fetchStories:function(t,r){return e(V.fetchStories({storyIds:t,page:r}))},resetStories:function(){return e(V.resetStories())}}}))(le),de=Object(i.b)((function(e){return{stories:e.story.stories,page:e.story.page,storyIds:e.story.storyIds,isFetching:e.story.isFetching,hasMoreStories:G(e)}}),(function(e){return{fetchStoryIds:function(){return e(V.fetchIdsOfNewStories())},fetchStories:function(t,r){return e(V.fetchStories({storyIds:t,page:r}))},resetStories:function(){return e(V.resetStories())}}}))(le),je=r(47),be=r(44),fe=function e(t){var r=t.comment,n=ne(r.created_at_i),s=r.children.length>1?Object(b.jsx)("ul",{children:r.children.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsx)(e,{comment:t})},t.id)}))}):null;return Object(b.jsxs)("div",{className:"mt-4 pl-3 ml-2 border-l-2 border-teal-500 dark:border-teal-700",children:[Object(b.jsxs)("p",{className:"mb-1",children:[Object(b.jsx)("span",{className:"font-bold dark:text-teal-600",children:r.author}),Object(b.jsxs)("span",{className:"text-grey-500",children:[" ",n," ago"]})]}),Object(b.jsx)("p",{dangerouslySetInnerHTML:{__html:r.text}}),s]})},xe=function(){var e=Object(l.g)(),t=Object(be.get)(e,"storyId"),r=Object(n.useState)(null),s=Object(je.a)(r,2),c=s[0],o=s[1];if(Object(n.useEffect)((function(){A.getStoryDetailsById(t).then((function(e){return o(e)}))}),[]),!c)return Object(b.jsx)(ae,{className:"mx-auto mt-12 mb-16"});var i=function(e){var t=new Date(1e3*e),r=t.getDay(),n=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}(t.getMonth()),s=t.getFullYear();return"".concat(n," ").concat(r,", ").concat(s)}(c.created_at_i);return Object(b.jsxs)("article",{className:"flex flex-col items-center mt-14 mb-20 w-full",children:[Object(b.jsx)("h2",{className:"text-3xl font-bold text-center transition-colors duration-200 hover:text-teal-500 dark:text-teal-600 dark:hover:text-teal-400",children:Object(b.jsx)("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:c.title})}),Object(b.jsxs)("span",{className:"mt-4 text-lg",children:["posted by ",c.author," on ",Object(b.jsx)("time",{dateTime:c.created_at,children:i})]}),Object(b.jsxs)("section",{className:"flex flex-col items-start w-full mt-12",children:[Object(b.jsx)("h3",{className:"text-xl",children:"Comments:"}),Object(b.jsx)("ul",{className:"w-full",children:c.children.map((function(e){return Object(b.jsx)("li",{className:"mb-4",children:Object(b.jsx)(fe,{comment:e})},e.id)}))})]})]})},Oe=function(){return Object(b.jsx)(a.a,{children:Object(b.jsx)(I,{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(F,{exact:!0,path:h.home,children:Object(b.jsx)(l.a,{to:h.stories.top})}),Object(b.jsx)(F,{exact:!0,path:"/hacker-news",children:Object(b.jsx)(l.a,{to:h.home})}),Object(b.jsx)(F,{exact:!0,path:h.stories.top,hideFooter:!0,children:Object(b.jsx)(ue,{})}),Object(b.jsx)(F,{exact:!0,path:h.stories.best,hideFooter:!0,children:Object(b.jsx)(he,{})}),Object(b.jsx)(F,{exact:!0,path:h.stories.new,hideFooter:!0,children:Object(b.jsx)(de,{})}),Object(b.jsx)(F,{exact:!0,path:h.stories.details.show,children:Object(b.jsx)(xe,{})}),Object(b.jsx)(F,{path:"*",hideFooter:!0,children:Object(b.jsx)("h1",{children:"No match"})})]})})})},ye=r(12),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"light",hideFooter:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(N.a)(Object(N.a)({},e),{},{theme:t.theme});case y:return Object(N.a)(Object(N.a)({},e),{},{hideFooter:t.hideFooter});default:return e}},me=r(29),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case W:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0});case J:return Object(N.a)(Object(N.a)({},e),{},{storyIds:t.storyIds});case K:return Object(N.a)(Object(N.a)({},e),{},{stories:[].concat(Object(me.a)(e.stories),Object(me.a)(t.stories)),page:e.page+1,isFetching:!1});case"RESET_STORIES":return{storyIds:[],stories:[],page:0,isFetching:!1,error:""};default:return e}},ve=Object(ye.c)({app:pe,story:ge}),Se=r(45),we=(r(46),[]);we.push(Se.a);var Ie=Object(ye.d)(ye.a.apply(void 0,we)),Ne=function(){return Object(ye.e)(ve,{app:{theme:"light",hideFooter:!1},story:{storyIds:[],stories:[],page:0,isFetching:!1,error:""}},Ie)},_e=function(e){e&&r.e(3).then(r.bind(null,80)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),s(e),c(e),o(e)}))};r(78);!function(){var e=Ne();o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(i.a,{store:e,children:Object(b.jsx)(Oe,{})})}),document.getElementById("root"))}(),_e()}},[[79,1,2]]]);
//# sourceMappingURL=main.06160663.chunk.js.map